{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/AEditor/AEditorToolbar/ToolbarButtonGroups.vue?2fd5","webpack:///./src/components/AEditor/AEditorContent.vue?d183","webpack:///./src/components/AEditor/AEditor.vue?d5a0","webpack:///./src/App.vue","webpack:///./src/components/AEditor/AEditor.vue","webpack:///./src/components/AEditor/AEditorToolbar/AEditorToolbar.vue","webpack:///./src/components/UI/ABtn.vue","webpack:///./src/components/UI/ABtn.vue?7218","webpack:///./src/components/AEditor/AEditorToolbar/ToolbarButtonGroups.vue","webpack:///./src/components/AEditor/AEditorToolbar/ToolbarButtonGroups.vue?a8a5","webpack:///./src/constants/index.js","webpack:///./src/components/AEditor/AEditorToolbar/AEditorToolbar.vue?8903","webpack:///./src/components/AEditor/AEditorContent.vue","webpack:///./src/helper/index.js","webpack:///./src/helper/range.helper.js","webpack:///./src/helper/selection.helper.js","webpack:///./src/helper/style.helper.js","webpack:///./src/helper/parse.helper.js","webpack:///./src/components/AEditor/AEditorContent.vue?c728","webpack:///./src/components/AEditor/AEditor.vue?0d9d","webpack:///./src/App.vue?eabf","webpack:///./src/main.js","webpack:///./src/App.vue?1aaf","webpack:///./src/components/AEditor/AEditorToolbar/AEditorToolbar.vue?4d2f","webpack:///./src/components/UI/ABtn.vue?2667"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","content","nodeStyle","currentNodeStyle","onSetStyle","onExport","ref","modelValue","current-node-id","currentNodeId","current-node-style","onSetNode","onResetNode","onUpdateModelValue","groups","node-style","classes","props","active","type","Boolean","default","computed","this","render","__scopeId","group","buttons","button","isButtonActive","label","emits","Array","required","components","ABtn","methods","$emit","TEXT_STYLE_TYPES","FONT_WEIGHT","FONT_SIZE","FONT_FAMILY","BG_COLOR","COLOR","ToolbarButtonGroups","contenteditable","id","onEmitContent","debounce","fn","ms","timerId","clearTimeout","setTimeout","splitTextContent","str","start","end","strArray","before","after","splitRangeText","rage","text","commonAncestorContainer","textContent","helper","startOffset","endOffset","setSelectionToElement","el","range","document","createRange","node","childNodes","setStart","setEnd","selection","getSelection","removeAllRanges","addRange","makeSpanAtSelection","currentEl","parentEl","parentElement","rangeHelper","beforeText","selectedText","afterText","selected","createElement","setAttribute","Date","now","fragment","createDocumentFragment","appendChild","prepend","append","replaceChild","toggleStyle","style","parseStyle","getElementById","values","forEach","styleType","keys","parseContent","parsedData","child","prevChildData","currentText","currentStyle","nodeType","Node","TEXT_NODE","styleHelper","getAttribute","prevStyleStr","entries","flat","join","currentStyleStr","String","mounted","$refs","editor","innerHTML","handleSelection","addEventListener","unmounted","removeEventListener","applyStyleToCurrentNode","styleValue","collapsed","makeStyledNode","currentNode","applyStyleToNode","span","nodeId","$nextTick","getRangeAt","selectionNode","parentNode","closest","parentId","tagName","export","exportData","map","childData","AEditorToolbar","AEditorContent","console","log","JSON","stringify","alert","AEditor","createApp","App","mount"],"mappings":"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","file":"js/app.27097164.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue-3-text-editor/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ToolbarButtonGroups.vue?vue&type=style&index=0&id=52739422&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AEditorContent.vue?vue&type=style&index=0&id=4d27d1c3&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AEditor.vue?vue&type=style&index=0&id=7228e86e&lang=scss\"","<template>\n  <div class=\"container\">\n    <AEditor v-model=\"content\" />\n\n    <div class=\"result\">\n      <div v-html=\"content\"></div>\n\n      <hr />\n\n      {{ content }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport AEditor from './components/AEditor/AEditor.vue';\nconst value = `\n  Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n  <span\n    id=\"id-34343\"\n    style=\"\n      font-size: 18px;\n      background-color: rgb(121, 85, 72);\n      color: rgb(255, 255, 255);\n    \"\n  >\n    Praesentium porro amet\n  </span>\n  , eveniet omnis necessitatibus adipisci.\n`;\n\nexport default {\n  name: 'App',\n  components: {\n    AEditor,\n  },\n\n  data: () => ({\n    content: value,\n  }),\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  max-width: 1100px;\n  margin: 0 auto;\n  padding: 40px 15px;\n\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.result {\n  padding: 20px 15px;\n  margin-top: 20px;\n\n  border-radius: 4px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.185);\n}\n</style>\n","<template>\n  <div class=\"a-editor\">\n    <div class=\"a-editor-header\">\n      <h1 class=\"a-editor-header__title\">Editor</h1>\n    </div>\n\n    <AEditorToolbar\n      :nodeStyle=\"currentNodeStyle\"\n      @setStyle=\"onSetStyle\"\n      @export=\"onExport\"\n    />\n\n    <AEditorContent\n      ref=\"content\"\n      :modelValue=\"modelValue\"\n      :current-node-id=\"currentNodeId\"\n      :current-node-style=\"currentNodeStyle\"\n      @setNode=\"onSetNode\"\n      @resetNode=\"onResetNode\"\n      @update:modelValue=\"onUpdateModelValue\"\n    />\n  </div>\n</template>\n\n<script>\nimport AEditorToolbar from './AEditorToolbar/AEditorToolbar';\nimport AEditorContent from './AEditorContent';\n\nexport default {\n  name: 'AEditor',\n  emits: ['update:modelValue'],\n\n  components: {\n    AEditorToolbar,\n    AEditorContent,\n  },\n\n  data: () => ({\n    currentNodeId: null,\n    currentNodeStyle: null,\n  }),\n\n  props: {\n    modelValue: {\n      type: String,\n      default: '',\n    },\n  },\n\n  methods: {\n    onUpdateModelValue(value) {\n      this.$emit('update:modelValue', value);\n    },\n\n    onSetNode({ nodeId = null, style = null }) {\n      this.currentNodeId = nodeId || this.currentNodeId;\n      this.currentNodeStyle = style || this.currentNodeStyle;\n    },\n\n    onResetNode() {\n      this.currentNodeId = null;\n      this.currentNodeStyle = null;\n    },\n\n    onSetStyle(value) {\n      this.$refs.content.onSetStyle(value);\n    },\n\n    onExport() {\n      const data = this.$refs.content.export();\n      console.log('JSON: ', JSON.stringify(data, 2, 2));\n      alert('JSON in console');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.a-editor {\n  width: 100%;\n  border-radius: 4px;\n  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.185);\n}\n\n.a-editor-header {\n  font-size: 32px;\n  text-align: center;\n  padding: 20px 20px 30px;\n\n  &__title {\n    font-size: 50px;\n    margin: 0;\n  }\n}\n</style>\n","<template>\n  <div class=\"a-editor-toolbar\">\n    <ToolbarButtonGroups\n      :groups=\"groups\"\n      :node-style=\"nodeStyle\"\n      @setStyle=\"onSetStyle\"\n    />\n\n    <ABtn class=\"export-btn\" @click=\"onExport\"> Export to JSON </ABtn>\n  </div>\n</template>\n\n<script>\nimport ABtn from '../../UI/ABtn';\nimport ToolbarButtonGroups from './ToolbarButtonGroups';\nimport { TEXT_STYLE_TYPES } from '../../../constants/index';\n\nexport default {\n  name: 'AEditorToolbar',\n  emits: ['setStyle', 'export'],\n\n  props: {\n    nodeStyle: {\n      type: Object,\n      default: null,\n    },\n  },\n\n  components: {\n    ABtn,\n    ToolbarButtonGroups,\n  },\n\n  data: () => ({\n    groups: [\n      {\n        type: TEXT_STYLE_TYPES.FONT_WEIGHT,\n        buttons: [\n          {\n            label: 'Thin',\n            value: '300',\n          },\n          {\n            label: 'Regular',\n            value: '400',\n          },\n          {\n            label: 'Bold',\n            value: '700',\n          },\n        ],\n      },\n      {\n        type: TEXT_STYLE_TYPES.FONT_SIZE,\n        buttons: [\n          {\n            label: '16px',\n            value: '16px',\n          },\n          {\n            label: '18px',\n            value: '18px',\n          },\n          {\n            label: '20px',\n            value: '20px',\n          },\n        ],\n      },\n      {\n        type: TEXT_STYLE_TYPES.FONT_FAMILY,\n        buttons: [\n          {\n            label: 'Open Sans',\n            value: 'Open Sans',\n          },\n          {\n            label: 'Arial',\n            value: 'Arial',\n          },\n        ],\n      },\n      {\n        type: TEXT_STYLE_TYPES.BG_COLOR,\n        buttons: [\n          {\n            label: 'Bg Orange',\n            value: 'rgb(255, 87, 34)',\n          },\n          {\n            label: 'Bg Brown',\n            value: 'rgb(121, 85, 72)',\n          },\n        ],\n      },\n      {\n        type: TEXT_STYLE_TYPES.COLOR,\n        buttons: [\n          {\n            label: 'White',\n            value: 'rgb(255, 255, 255)',\n          },\n          {\n            label: 'Black',\n            value: 'rgb(0, 0, 0)',\n          },\n        ],\n      },\n    ],\n  }),\n\n  methods: {\n    onExport() {\n      this.$emit('export');\n    },\n\n    onSetStyle(value) {\n      this.$emit('setStyle', value);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.a-editor-toolbar {\n  border-bottom: none;\n  padding: 15px;\n  display: flex;\n  flex-wrap: wrap;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.185);\n}\n\n.export-btn {\n  margin-left: auto;\n}\n</style>\n","<template>\n  <button v-bind=\"$attrs\" :class=\"classes\">\n    <slot />\n  </button>\n</template>\n\n<script>\nexport default {\n  name: 'ABtn',\n  props: {\n    active: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    classes() {\n      return [\n        'a-btn',\n        {\n          'a-btn--active': this.active,\n        },\n      ];\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.a-btn {\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid #1867c0;\n  background-color: #1867c0;\n  color: #fff;\n  transition: all 0.2s;\n  padding: 6px 8px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: lighten(#1867c0, 5%);\n  }\n  &:focus {\n    background-color: darken(#1867c0, 3%);\n  }\n  &--active {\n    background-color: darken(#1867c0, 15%) !important;\n  }\n}\n</style>\n","import { render } from \"./ABtn.vue?vue&type=template&id=26d21202&scoped=true\"\nimport script from \"./ABtn.vue?vue&type=script&lang=js\"\nexport * from \"./ABtn.vue?vue&type=script&lang=js\"\n\nimport \"./ABtn.vue?vue&type=style&index=0&id=26d21202&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-26d21202\"\n\nexport default script","<template>\n  <div class=\"toolbar-button-group\" v-for=\"group in groups\" :key=\"group.type\">\n    <ABtn\n      v-for=\"button in group.buttons\"\n      :key=\"button.value\"\n      class=\"toolbar-button-group__item\"\n      :active=\"isButtonActive(group.type, button.value)\"\n      @click=\"onSetStyle(group.type, button.value)\"\n    >\n      {{ button.label }}\n    </ABtn>\n  </div>\n</template>\n\n<script>\nimport ABtn from '../../UI/ABtn';\n\nexport default {\n  name: 'ToolbarGroup',\n  emits: ['setStyle'],\n\n  props: {\n    groups: {\n      type: Array,\n      required: true,\n    },\n    nodeStyle: {\n      type: Object,\n      default: null,\n    },\n  },\n\n  components: {\n    ABtn,\n  },\n\n  computed: {\n    isButtonActive() {\n      return (type, value) => {\n        return this.nodeStyle && this.nodeStyle[type] === value;\n      };\n    },\n  },\n\n  methods: {\n    onSetStyle(type, value) {\n      this.$emit('setStyle', {\n        type,\n        value,\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.toolbar-button-group {\n  margin-right: 10px;\n\n  &__item {\n    border-radius: 0px;\n\n    &:first-child {\n      border-top-left-radius: 4px;\n      border-bottom-left-radius: 4px;\n    }\n    &:last-child {\n      border-top-right-radius: 4px;\n      border-bottom-right-radius: 4px;\n    }\n  }\n}\n</style>\n","import { render } from \"./ToolbarButtonGroups.vue?vue&type=template&id=52739422&scoped=true\"\nimport script from \"./ToolbarButtonGroups.vue?vue&type=script&lang=js\"\nexport * from \"./ToolbarButtonGroups.vue?vue&type=script&lang=js\"\n\nimport \"./ToolbarButtonGroups.vue?vue&type=style&index=0&id=52739422&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-52739422\"\n\nexport default script","export const TEXT_STYLE_TYPES = {\n  FONT_WEIGHT: 'fontWeight',\n  FONT_SIZE: 'fontSize',\n  FONT_FAMILY: 'fontFamily',\n  BG_COLOR: 'backgroundColor',\n  COLOR: 'color',\n};\n","import { render } from \"./AEditorToolbar.vue?vue&type=template&id=3f8b363f&scoped=true\"\nimport script from \"./AEditorToolbar.vue?vue&type=script&lang=js\"\nexport * from \"./AEditorToolbar.vue?vue&type=script&lang=js\"\n\nimport \"./AEditorToolbar.vue?vue&type=style&index=0&id=3f8b363f&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3f8b363f\"\n\nexport default script","<template>\n  <div\n    ref=\"editor\"\n    class=\"a-editor-content\"\n    contenteditable\n    id=\"editor\"\n    @input=\"onEmitContent\"\n  ></div>\n</template>\n\n<script>\nimport helper from '../../helper/index';\nimport selectionHelper from '../../helper/selection.helper';\nimport styleHelper from '../../helper/style.helper';\nimport parseHelper from '../../helper/parse.helper';\n\nexport default {\n  name: 'AEditorContent',\n  data: () => ({\n    rage: null,\n  }),\n  emits: ['update:modelValue', 'setNode', 'resetNode'],\n\n  props: {\n    modelValue: {\n      type: String,\n      default: '',\n    },\n    currentNodeId: {\n      type: String,\n      default: null,\n    },\n    currentNodeStyle: {\n      type: Object,\n      default: null,\n    },\n  },\n\n  mounted() {\n    this.$refs.editor.innerHTML = this.modelValue;\n\n    this.handleSelection = helper.debounce(this.handleSelection, 200);\n    document.addEventListener('selectionchange', this.handleSelection);\n  },\n  unmounted() {\n    document.removeEventListener('selectionchange', this.handleSelection);\n  },\n\n  methods: {\n    onEmitContent() {\n      this.$emit('update:modelValue', this.$refs.editor.innerHTML);\n    },\n\n    onSetStyle({ type, value }) {\n      // No selection\n      if (!this.rage) return;\n\n      if (this.currentNodeId === 'editor') {\n        // Cancel apply style for collapsed selection\n        if (this.rage.collapsed) return;\n\n        this.makeStyledNode({\n          styleType: type,\n          styleValue: value,\n        });\n\n        return;\n      }\n\n      this.applyStyleToCurrentNode({\n        styleType: type,\n        styleValue: value,\n      });\n    },\n\n    applyStyleToCurrentNode({ styleType, styleValue }) {\n      const currentNode = document.getElementById(this.currentNodeId);\n      this.applyStyleToNode(currentNode, { styleType, styleValue });\n    },\n\n    applyStyleToNode(node, { styleType, styleValue }) {\n      styleHelper.toggleStyle(node, {\n        type: styleType,\n        value: styleValue,\n      });\n\n      this.$emit('setNode', {\n        style: styleHelper.parseStyle(this.currentNodeId),\n      });\n\n      this.onEmitContent();\n    },\n\n    makeStyledNode({ styleType, styleValue }) {\n      const span = selectionHelper.makeSpanAtSelection(this.rage);\n\n      this.$emit('setNode', {\n        nodeId: span.getAttribute('id'),\n      });\n\n      this.$nextTick(() => {\n        this.applyStyleToNode(span, { styleType, styleValue });\n      });\n    },\n\n    handleSelection() {\n      // Reset previous state\n      this.rage = null;\n      this.$emit('resetNode');\n\n      const selection = document.getSelection();\n      const rage = selection.getRangeAt(0);\n      const selectionNode = rage.commonAncestorContainer;\n      const parentNode = selectionNode.parentElement;\n\n      // selection outside the editor\n      if (!parentNode.closest('#editor')) return;\n\n      const parentId = parentNode.getAttribute('id');\n\n      let style = null;\n      if (parentNode.tagName === 'SPAN') {\n        style = styleHelper.parseStyle(parentId);\n      }\n\n      this.$emit('setNode', {\n        nodeId: parentId,\n        style,\n      });\n\n      this.rage = rage;\n    },\n\n    export() {\n      let exportData = parseHelper.parseContent(this.$refs.editor);\n\n      // flat styles\n      exportData = exportData.map((childData) => {\n        if (childData.style) {\n          return {\n            text: childData.text,\n            ...childData.style,\n          };\n        }\n\n        return childData;\n      });\n\n      return exportData;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.a-editor-content {\n  height: 200px;\n  padding: 8px 12px;\n  outline: none;\n  border-radius: 0 0 4px 4px;\n\n  ::v-deep(span) {\n    border-radius: 4px;\n  }\n}\n</style>\n","const debounce = (fn, ms) => {\n  let timerId;\n  return function () {\n    clearTimeout(timerId);\n    timerId = setTimeout(() => {\n      fn();\n    }, ms);\n  };\n};\n\nconst splitTextContent = (str, start, end) => {\n  const strArray = [];\n  if (typeof str === 'string') {\n    const before = str.slice(0, start);\n    const after = str.slice(end);\n\n    strArray.push(before || null);\n    strArray.push(str.slice(start, end));\n    strArray.push(after || null);\n  }\n  return strArray;\n};\n\nexport default {\n  debounce,\n  splitTextContent,\n};\n","import helper from './index';\n\nconst splitRangeText = (rage) => {\n  const text = rage.commonAncestorContainer.textContent;\n  return helper.splitTextContent(text, rage.startOffset, rage.endOffset);\n};\n\nexport default {\n  splitRangeText,\n};\n","import rangeHelper from './range.helper';\n\nconst setSelectionToElement = (el) => {\n  const range = document.createRange();\n  const node = el.childNodes[0];\n\n  range.setStart(node, 0);\n  range.setEnd(node, node.length);\n\n  const selection = window.getSelection();\n  selection.removeAllRanges();\n  selection.addRange(range);\n};\n\nconst makeSpanAtSelection = (rage) => {\n  const currentEl = rage.commonAncestorContainer;\n  const parentEl = currentEl.parentElement;\n\n  const [beforeText, selectedText, afterText] = rangeHelper.splitRangeText(\n    rage\n  );\n\n  const selected = document.createElement('span');\n  selected.textContent = selectedText;\n  selected.setAttribute('id', 'editor-span-' + Date.now());\n\n  const fragment = document.createDocumentFragment();\n  fragment.appendChild(selected);\n  if (beforeText) {\n    fragment.prepend(beforeText);\n  }\n  if (afterText) {\n    fragment.append(afterText);\n  }\n\n  parentEl.replaceChild(fragment, rage.commonAncestorContainer);\n  // Return selection after node replace\n  setSelectionToElement(selected);\n\n  return selected;\n};\n\nexport default {\n  setSelectionToElement,\n  makeSpanAtSelection,\n};\n","import { TEXT_STYLE_TYPES } from '../constants/index.js';\n\nconst toggleStyle = (el, { type, value }) => {\n  if (el.style[type] === value) {\n    el.style[type] = null;\n  } else {\n    el.style[type] = value;\n  }\n};\n\nfunction parseStyle(id) {\n  const el = document.getElementById(id);\n  if (!el) return null;\n\n  let style = {};\n\n  Object.values(TEXT_STYLE_TYPES).forEach((styleType) => {\n    if (el.style[styleType]) {\n      style[styleType] = el.style[styleType];\n    }\n  });\n\n  if (Object.keys(style).length > 0) {\n    return style;\n  } else {\n    return null;\n  }\n}\n\nexport default {\n  parseStyle,\n  toggleStyle,\n};\n","import styleHelper from './style.helper';\n\nconst parseContent = (el) => {\n  const parsedData = [];\n\n  el.childNodes.forEach((child) => {\n    const prevChildData = parsedData[parsedData.length - 1] || null;\n    const currentText = child.textContent;\n    let currentStyle = null;\n\n    // get node style\n    if (child.nodeType !== Node.TEXT_NODE) {\n      currentStyle = styleHelper.parseStyle(child.getAttribute('id'));\n    }\n\n    // merge text with previous node\n    // if sibling nodes is text or current is single whitespace\n    if (\n      prevChildData &&\n      (currentText === ' ' || (!currentStyle && !prevChildData.style))\n    ) {\n      prevChildData.text += currentText;\n      return;\n    }\n\n    // styled node\n    if (currentStyle) {\n      // compare prev style with current\n      if (prevChildData.style) {\n        const prevStyleStr = Object.entries(prevChildData.style)\n          .flat(2)\n          .join('');\n        const currentStyleStr = Object.entries(currentStyle).flat(2).join('');\n\n        // merge nodes with same style\n        if (currentStyleStr === prevStyleStr) {\n          prevChildData.text += currentText;\n          return;\n        }\n      }\n\n      parsedData.push({\n        text: currentText,\n        style: currentStyle,\n      });\n      return;\n    }\n\n    // text node\n    parsedData.push({\n      text: currentText,\n    });\n  });\n\n  return parsedData;\n};\n\nexport default {\n  parseContent,\n};\n","import { render } from \"./AEditorContent.vue?vue&type=template&id=4d27d1c3&scoped=true\"\nimport script from \"./AEditorContent.vue?vue&type=script&lang=js\"\nexport * from \"./AEditorContent.vue?vue&type=script&lang=js\"\n\nimport \"./AEditorContent.vue?vue&type=style&index=0&id=4d27d1c3&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4d27d1c3\"\n\nexport default script","import { render } from \"./AEditor.vue?vue&type=template&id=7228e86e\"\nimport script from \"./AEditor.vue?vue&type=script&lang=js\"\nexport * from \"./AEditor.vue?vue&type=script&lang=js\"\n\nimport \"./AEditor.vue?vue&type=style&index=0&id=7228e86e&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=b8037eea&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=b8037eea&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b8037eea\"\n\nexport default script","import { createApp } from 'vue';\nimport App from './App.vue';\nimport './assets/scss/main.scss';\n\ncreateApp(App).mount('#app');\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=b8037eea&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AEditorToolbar.vue?vue&type=style&index=0&id=3f8b363f&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ABtn.vue?vue&type=style&index=0&id=26d21202&lang=scss&scoped=true\""],"sourceRoot":""}